(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{6757:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(4836);exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(4938)),_jsxRuntime=__webpack_require__(5893),_default=(0,_createSvgIcon.default)([(0,_jsxRuntime.jsx)("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01zM4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3zm16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"},"0"),(0,_jsxRuntime.jsx)("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2z"},"1")],"Diversity3");exports.Z=_default},922:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return __webpack_require__(9339)}])},358:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return BASE_URL}});let BASE_URL="http://10.100.23.126/PMS/public/api/login"},819:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1163),next_router__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2914),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2664),axios__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(196),_base__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(358),_mui_icons_material_Person__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5398),_mui_icons_material_AlternateEmail__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7507),_mui_icons_material_Key__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9469),_mui_icons_material_PhoneAndroid__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4247),_mui_icons_material_Diversity3__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6757);let RegisterForm=param=>{let{token}=param,[name,setName]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[email,setEmail]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[password,setPassword]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[phone,setPhone]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[formErrors,setFormErrors]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[roles,setRoles]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[admin_roles,setSelectedRole]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),rolesAdd=e=>{setSelectedRole([]),setSelectedRole(admin_roles=>[...admin_roles,Number(e.target.value)])};async function register(e){e.preventDefault();let apiUrl=_base__WEBPACK_IMPORTED_MODULE_5__._+"api/v1/admin/store";axios__WEBPACK_IMPORTED_MODULE_4__.ZP.post(apiUrl,{email,password,name,phone,admin_roles},{headers:{Authorization:"Bearer ".concat(token)}}).then(response=>{console.log(response.data),response.data.status?next_router__WEBPACK_IMPORTED_MODULE_2___default().push({pathname:"/"}):setFormErrors(Object.values(response.data.errors))})}return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let apiRoles=_base__WEBPACK_IMPORTED_MODULE_5__._+"api/v1/roles";axios__WEBPACK_IMPORTED_MODULE_4__.ZP.get(apiRoles,{headers:{Authorization:"Bearer "+token}}).then(res=>{!0==res.data.status&&setRoles(res.data.data)}).catch(error=>{console.log(error)})},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{className:"text-danger",style:{fontWeight:200},children:formErrors[0]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-group mb-3 mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_Person__WEBPACK_IMPORTED_MODULE_6__.Z,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,onChange:e=>setName(e.target.value),placeholder:"Name"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-group mb-3 mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_AlternateEmail__WEBPACK_IMPORTED_MODULE_7__.Z,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",required:!0,onChange:e=>setEmail(e.target.value),placeholder:"Email"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-group mb-3 mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_Key__WEBPACK_IMPORTED_MODULE_8__.Z,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"password",className:"form-control",id:"password",required:!0,onChange:e=>setPassword(e.target.value),placeholder:"Password"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-group mb-3 mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"input-group-text",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_PhoneAndroid__WEBPACK_IMPORTED_MODULE_9__.Z,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",className:"form-control",id:"phone",required:!0,onChange:e=>setPhone(e.target.value),placeholder:"Phone Number"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-group mb-3 mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"input-group-text",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_Diversity3__WEBPACK_IMPORTED_MODULE_10__.Z,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_11__.Z.Select,{onChange:rolesAdd,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Select a Role"}),roles.map((role,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:role.id,children:role.name},index))]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:register,className:"btn btn-success mb-3",children:"Create User"})]})]})},mapStateToProps=state=>({token:state.auth.token});__webpack_exports__.Z=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.$j)(mapStateToProps)(RegisterForm)},9339:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893);__webpack_require__(7294);var next_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1664),next_link__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2097),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9630),_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9896),_components_forms_RegisterForm__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(819);let Registration=()=>{let theme=(0,_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z)(),colors=(0,_theme__WEBPACK_IMPORTED_MODULE_3__.tokens)(theme.palette.mode);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"row",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"col-lg-3"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"col-lg-6 mt-5 bg-light p-5 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{href:"/",className:"anchor",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{variant:"h1",color:colors.greenAccent[300],className:"text-center",children:"NSRIC"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{variant:"h2",color:colors.greenAccent[300],className:"mb-4",children:"Registration"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_forms_RegisterForm__WEBPACK_IMPORTED_MODULE_4__.Z,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{children:["Already have an account?"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{href:"/login",className:"anchor",children:"Login"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"col-lg-3"})]})})};__webpack_exports__.default=Registration}},function(__webpack_require__){__webpack_require__.O(0,[664,890,462,774,888,179],function(){return __webpack_require__(__webpack_require__.s=922)}),_N_E=__webpack_require__.O()}]);